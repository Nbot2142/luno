<!DOCTYPE html>
<html>
<head>
    <title>Aktualizacja pliku JSON na Pastebin</title>
</head>
<body>
    <script>
        const pasteKey = 'OtTPz5HYykAV-X2vmnITpEUGTD3RkbsB'; // Klucz pasty na Pastebin

        // Funkcja do generowania losowego kodu o danej długości
        function generateRandomCode(length) {
            const characters = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';
            let result = '';
            const charactersLength = characters.length;
            for (let i = 0; i < length; i++) {
                result += characters.charAt(Math.floor(Math.random() * charactersLength));
            }
            return result;
        }

        // Pobieranie aktualnej zawartości pasty z Pastebin
        fetch(`https://pastebin.com/raw/${pasteKey}`)
        .then(response => response.text())
        .then(currentContent => {
            // Tworzenie nowej zawartości pliku JSON
            const newContent = {
                Game: 'Jailbreak',
                code: generateRandomCode(19) // 19 to długość kodu
            };

            // Aktualizacja zawartości pasty na Pastebin
            fetch(`https://pastebin.com/api/api_post.php`, {
                method: 'POST',
                body: `api_dev_key=OtTPz5HYykAV-X2vmnITpEUGTD3RkbsB&api_option=edit&api_paste_key=${pasteKey}&api_paste_code=${JSON.stringify(newContent)}`,
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded'
                }
            })
            .then(response => response.text())
            .then(result => {
                console.log('Pasta na Pastebin została zaktualizowana.');
            })
            .catch(error => {
                console.error('Błąd podczas aktualizacji pasty na Pastebin: ' + error);
            });
        })
        .catch(error => {
            console.error('Błąd podczas pobierania aktualnej zawartości pasty z Pastebin: ' + error);
        });
    </script>
</body>
</html>

